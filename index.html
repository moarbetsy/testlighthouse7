<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO -->
    <title>Niva Dental Clinic | Advanced Care & Comfort</title>
    <meta name="description" content="Experience premium dental care at Niva Dental Clinic. Advanced technology, gentle treatments, and a hygienic environment designed for your comfort. Book today.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://nivadental.com/">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Niva Dental Clinic | Advanced Care & Comfort">
    <meta property="og:description" content="Premium dental care designed for comfort, hygiene and precision.">
    <meta property="og:url" content="https://nivadental.com/">
    <meta property="og:image" content="https://images.unsplash.com/photo-1629909613654-28e377c37b09?auto=format&fit=crop&w=1200&q=80">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Dentist",
      "name": "Niva Dental Clinic",
      "image": "https://images.unsplash.com/photo-1629909613654-28e377c37b09",
      "url": "https://nivadental.com",
      "telephone": "+15551234567",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "123 Medical Park Drive, Suite 400",
        "addressLocality": "Wellness City",
        "addressRegion": "NY",
        "postalCode": "10001",
        "addressCountry": "US"
      },
      "priceRange": "$$"
    }
    </script>

    <!-- Security: CSP -->
    <!-- 
    SECURITY TODO: Production Lock-down
    Current CSP uses 'unsafe-inline' and external CDNs (Tailwind/Lucide) to maintain the single-file design requirement.
    To achieve 100/100 Best Practices in a build environment:
    1. Compile Tailwind CSS locally.
    2. Download Lucide icons locally.
    3. Calculate hashes for inline scripts: echo -n "CONTENT" | openssl dgst -sha384 -binary | openssl base64
    -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://unpkg.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' https: data:; font-src 'self' https://fonts.gstatic.com; connect-src 'self';">

    <!-- Performance: Preload Critical Assets -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1629909613654-28e377c37b09?auto=format&fit=crop&w=1200&q=80" fetchpriority="high">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Tailwind (CDN for demo purposes only - use Build Step for Prod) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        surface: '#F8FAFC',
                        surfaceHighlight: '#EFF6FF',
                        primary: '#2563EB',
                        primaryDark: '#1D4ED8',
                        accent: '#06B6D4',
                        dark: '#0F172A',
                        darkText: '#1E293B',
                        muted: '#64748B',
                        border: '#E2E8F0',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        heading: ['Poppins', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 10px 40px -10px rgba(37, 99, 235, 0.1)',
                        'lift': '0 20px 40px -15px rgba(37, 99, 235, 0.15)',
                        'glow': '0 0 20px rgba(6, 182, 212, 0.15)',
                    },
                    backgroundImage: {
                        'hero-gradient': 'linear-gradient(135deg, #EFF6FF 0%, #FFFFFF 100%)',
                        'card-gradient': 'linear-gradient(to bottom right, #FFFFFF, #F8FAFC)',
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Styles & Resets */
        body {
            background-color: #F8FAFC;
            color: #0F172A;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Accessibility: Skip Link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #0F172A;
            color: #fff;
            padding: 8px 16px;
            z-index: 100;
            transition: top 0.2s;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .skip-link:focus {
            top: 0;
        }

        /* Accessibility: Focus Indicators */
        :focus-visible {
            outline: 2px solid #2563EB;
            outline-offset: 2px;
        }

        /* Accessibility: Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            .reveal-on-scroll {
                opacity: 1 !important;
                transform: none !important;
            }
        }

        /* Floating Label Logic */
        .input-group {
            position: relative;
        }
        .input-field {
            width: 100%;
            border: 1px solid #E2E8F0;
            background: #FFFFFF;
            padding: 1rem 0.75rem 0.5rem;
            border-radius: 0.5rem;
            outline: none;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            color: #1E293B;
        }
        .input-field:focus {
            border-color: #2563EB;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        .input-label {
            position: absolute;
            left: 0.75rem;
            top: 0.8rem;
            color: #64748B;
            font-size: 0.95rem;
            pointer-events: none;
            transition: all 0.2s ease;
        }
        .input-field:focus ~ .input-label,
        .input-field:not(:placeholder-shown) ~ .input-label {
            top: 0.2rem;
            font-size: 0.7rem;
            color: #2563EB;
            font-weight: 500;
        }

        /* Animation Utilities */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #F8FAFC;
        }
        ::-webkit-scrollbar-thumb {
            background: #CBD5E1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #2563EB;
        }

        /* Custom Dropdown Styling */
        .custom-select-wrapper {
            position: relative;
            cursor: pointer;
        }
        .custom-select-trigger {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0.75rem;
            border: 1px solid #E2E8F0;
            border-radius: 0.5rem;
            background: #FFFFFF;
            transition: all 0.2s;
        }
        .custom-select-trigger:focus {
            border-color: #2563EB;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        .custom-select-options {
            position: absolute;
            top: 110%;
            left: 0;
            right: 0;
            background: #fff;
            border: 1px solid #E2E8F0;
            border-radius: 0.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s;
            z-index: 20;
        }
        .custom-select-wrapper.open .custom-select-options {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        .custom-option {
            padding: 0.75rem;
            transition: background 0.2s;
        }
        .custom-option:hover, .custom-option:focus {
            background: #EFF6FF;
            color: #2563EB;
            outline: none;
        }

        /* Screen Reader Only Utility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
    </style>
</head>
<body class="font-sans antialiased text-darkText bg-surface overflow-x-hidden">

    <!-- Accessibility: Skip Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 transition-all duration-300 bg-white/80 backdrop-blur-md border-b border-border" id="navbar" aria-label="Main navigation">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="#" class="flex items-center gap-2 group" aria-label="Niva Dental Clinic Home">
                <div class="w-8 h-8 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center text-white shadow-lg shadow-primary/30 group-hover:scale-110 transition-transform duration-300" aria-hidden="true">
                    <i data-lucide="smile" class="w-5 h-5"></i>
                </div>
                <span class="font-heading font-semibold text-xl tracking-tight text-dark">NIVA</span>
            </a>

            <!-- Desktop Nav -->
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-muted">
                <a href="#home" class="hover:text-primary transition-colors">Home</a>
                <a href="#about" class="hover:text-primary transition-colors">About</a>
                <a href="#services" class="hover:text-primary transition-colors">Services</a>
                <a href="#testimonials" class="hover:text-primary transition-colors">Testimonials</a>
            </div>

            <div class="hidden md:flex">
                <a href="#book" class="bg-dark text-white px-6 py-2.5 rounded-full text-sm font-medium hover:bg-primary transition-colors duration-300 shadow-lg shadow-dark/20 hover:shadow-primary/30 transform hover:-translate-y-0.5">
                    Book Appointment
                </a>
            </div>

            <!-- Mobile Menu Toggle -->
            <button id="mobile-menu-btn" class="md:hidden text-dark p-2" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden absolute top-20 left-0 w-full bg-white border-b border-border p-6 flex flex-col gap-4 shadow-xl">
            <a href="#home" class="text-lg font-medium text-dark">Home</a>
            <a href="#about" class="text-lg font-medium text-dark">About</a>
            <a href="#services" class="text-lg font-medium text-dark">Services</a>
            <a href="#book" class="bg-primary text-white text-center py-3 rounded-lg font-medium">Book Now</a>
        </div>
    </nav>

    <!-- Main Content Wrapper for Skip Link -->
    <main id="main-content" tabindex="-1">
        
        <!-- 1. Hero Section -->
        <section id="home" class="relative pt-32 pb-20 lg:pt-40 lg:pb-32 overflow-hidden bg-hero-gradient" aria-labelledby="hero-heading">
            <!-- Abstract Decoration -->
            <div class="absolute top-0 right-0 -translate-y-1/4 translate-x-1/4 w-[800px] h-[800px] bg-gradient-to-br from-accent/10 to-primary/10 rounded-full blur-3xl -z-10" aria-hidden="true"></div>
            <div class="absolute bottom-0 left-0 translate-y-1/4 -translate-x-1/4 w-[600px] h-[600px] bg-gradient-to-tr from-blue-100 to-transparent rounded-full blur-3xl -z-10" aria-hidden="true"></div>

            <div class="max-w-7xl mx-auto px-6 grid lg:grid-cols-2 gap-12 items-center">
                
                <!-- Hero Content -->
                <div class="relative z-10 reveal-on-scroll">
                    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-surfaceHighlight border border-primary/20 text-primary text-xs font-semibold mb-6 shadow-sm">
                        <span class="relative flex h-2 w-2">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2 w-2 bg-primary"></span>
                        </span>
                        Accepting New Patients
                    </div>
                    <!-- H1: Single page title -->
                    <h1 id="hero-heading" class="font-heading font-semibold text-4xl lg:text-6xl tracking-tight leading-[1.1] mb-6 text-dark">
                        Advanced Dental Care <br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-accent">Designed for Comfort</span>
                    </h1>
                    <p class="text-lg text-muted mb-8 max-w-lg leading-relaxed">
                        Experience gentle treatments, modern technology, and a safe, hygienic clinic environment tailored for your peace of mind.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="#book" class="bg-primary text-white px-8 py-3.5 rounded-full text-sm font-medium hover:bg-primaryDark transition-all duration-300 shadow-soft shadow-primary/30 text-center flex items-center justify-center gap-2">
                            Book Appointment <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </a>
                        <a href="#services" class="bg-white border border-border text-darkText px-8 py-3.5 rounded-full text-sm font-medium hover:border-primary hover:text-primary transition-all duration-300 text-center shadow-sm">
                            Explore Services
                        </a>
                    </div>
                    
                    <div class="mt-10 flex items-center gap-4 text-sm text-muted">
                        <div class="flex -space-x-2">
                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&w=64&h=64" alt="Patient 1" class="w-8 h-8 rounded-full border-2 border-white object-cover shadow-sm" width="32" height="32" loading="lazy">
                            <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=64&h=64" alt="Patient 2" class="w-8 h-8 rounded-full border-2 border-white object-cover shadow-sm" width="32" height="32" loading="lazy">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=64&h=64" alt="Patient 3" class="w-8 h-8 rounded-full border-2 border-white object-cover shadow-sm" width="32" height="32" loading="lazy">
                        </div>
                        <span>Trusted by <span class="text-primary font-semibold">5,000+</span> patients</span>
                    </div>
                </div>

                <!-- Hero Image -->
                <div class="relative reveal-on-scroll delay-200">
                    <div class="absolute inset-0 bg-gradient-to-br from-primary to-accent opacity-10 rounded-[2.5rem] transform rotate-3 scale-95 translate-y-4"></div>
                    <div class="relative rounded-[2.5rem] overflow-hidden shadow-2xl shadow-primary/10 h-[500px] group border border-white">
                        <!-- LCP Image: fetchpriority high, no lazy load -->
                        <img src="https://images.unsplash.com/photo-1629909613654-28e377c37b09?auto=format&fit=crop&w=1200&q=80" 
                             alt="Modern Dental Clinic Interior" 
                             class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-1000 ease-out"
                             width="1200" height="800"
                             fetchpriority="high" decoding="async">
                        
                        <!-- Floating Badge -->
                        <div class="absolute bottom-6 left-6 right-6 bg-white/95 backdrop-blur rounded-xl p-4 shadow-lg flex items-center justify-between border border-white/50">
                            <div class="flex items-center gap-3">
                                <div class="bg-surfaceHighlight p-2 rounded-lg text-primary">
                                    <i data-lucide="shield-check" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-muted uppercase tracking-wider font-semibold">Hygiene Safety</p>
                                    <p class="font-heading font-semibold text-dark">100% Compliant</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Highlights -->
        <section class="py-12 bg-white border-b border-border" aria-label="Clinic Highlights">
            <div class="max-w-7xl mx-auto px-6">
                <!-- Heading level 2 implied by section, using visually hidden heading for accessibility if needed, 
                     but these cards act as details for the hero. Let's use h2 in the about section, these are features.
                     Semantically, we can treat them as part of the intro or give them a hidden h2. -->
                <h2 class="sr-only">Our Key Features</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Card 1 -->
                    <div class="p-6 rounded-2xl bg-surface hover:bg-surfaceHighlight transition-colors duration-300 border border-transparent hover:border-blue-100 group reveal-on-scroll">
                        <div class="w-12 h-12 bg-white rounded-xl shadow-sm border border-border flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform">
                            <i data-lucide="sparkles" class="w-6 h-6"></i>
                        </div>
                        <h3 class="font-heading font-semibold text-dark mb-2">Sterilized & Safe</h3>
                        <p class="text-sm text-muted">Top-tier sterilization protocols ensuring a germ-free environment.</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="p-6 rounded-2xl bg-surface hover:bg-surfaceHighlight transition-colors duration-300 border border-transparent hover:border-blue-100 group reveal-on-scroll delay-100">
                        <div class="w-12 h-12 bg-white rounded-xl shadow-sm border border-border flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform">
                            <i data-lucide="microscope" class="w-6 h-6"></i>
                        </div>
                        <h3 class="font-heading font-semibold text-dark mb-2">Modern Tech</h3>
                        <p class="text-sm text-muted">Digital X-rays and intraoral cameras for precise diagnosis.</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="p-6 rounded-2xl bg-surface hover:bg-surfaceHighlight transition-colors duration-300 border border-transparent hover:border-blue-100 group reveal-on-scroll delay-200">
                        <div class="w-12 h-12 bg-white rounded-xl shadow-sm border border-border flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform">
                            <i data-lucide="heart-handshake" class="w-6 h-6"></i>
                        </div>
                        <h3 class="font-heading font-semibold text-dark mb-2">Caring Staff</h3>
                        <p class="text-sm text-muted">Experienced specialists dedicated to your comfort and health.</p>
                    </div>
                    <!-- Card 4 -->
                    <div class="p-6 rounded-2xl bg-surface hover:bg-surfaceHighlight transition-colors duration-300 border border-transparent hover:border-blue-100 group reveal-on-scroll delay-300">
                        <div class="w-12 h-12 bg-white rounded-xl shadow-sm border border-border flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform">
                            <i data-lucide="smile-plus" class="w-6 h-6"></i>
                        </div>
                        <h3 class="font-heading font-semibold text-dark mb-2">Gentle Care</h3>
                        <p class="text-sm text-muted">Pain-free techniques designed for anxious patients.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. About Section -->
        <section id="about" class="py-24 bg-surface" aria-labelledby="about-heading">
            <div class="max-w-7xl mx-auto px-6">
                <div class="flex flex-col lg:flex-row gap-16 items-center">
                    
                    <!-- Images -->
                    <div class="lg:w-1/2 relative reveal-on-scroll">
                        <div class="grid grid-cols-2 gap-4">
                            <!-- Placeholder images replaced with Unsplash/Supabase with dimensions -->
                            <img src="https://images.unsplash.com/photo-1609840114035-3c981b782dfe?auto=format&fit=crop&w=600&q=80" alt="Dental Equipment" class="rounded-2xl object-cover h-64 w-full shadow-lg transform translate-y-8" width="600" height="400" loading="lazy">
                            <img src="https://images.unsplash.com/photo-1606811841689-23dfddce3e95?auto=format&fit=crop&w=600&q=80" alt="Dentist working" class="rounded-2xl object-cover h-64 w-full shadow-lg" width="600" height="400" loading="lazy">
                        </div>
                        <!-- Experience Badge -->
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-dark text-white p-6 rounded-full w-32 h-32 flex flex-col items-center justify-center shadow-xl border-4 border-surface">
                            <span class="font-heading font-bold text-3xl text-accent">10+</span>
                            <span class="text-xs text-center leading-tight opacity-80">Years Exp.</span>
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="lg:w-1/2 reveal-on-scroll delay-100">
                        <span class="text-primary font-medium tracking-wide text-sm uppercase mb-2 block">About Our Clinic</span>
                        <h2 id="about-heading" class="font-heading font-semibold text-3xl lg:text-4xl text-dark mb-6 tracking-tight">
                            Where Precision Meets <span class="text-primary">Compassion</span>
                        </h2>
                        <p class="text-muted mb-6 leading-relaxed">
                            At Niva, we believe that a visit to the dentist should be a restorative experience. Led by Dr. Sarah Bennett, our team combines a decade of clinical excellence with a philosophy rooted in patient comfort.
                        </p>
                        
                        <div class="space-y-4 mb-8">
                            <div class="flex items-start gap-3">
                                <i data-lucide="check-circle-2" class="w-5 h-5 text-accent mt-0.5"></i>
                                <div>
                                    <h3 class="font-medium text-dark text-base m-0">Mission</h3>
                                    <p class="text-sm text-muted">To provide world-class dental care with a focus on hygiene and comfort.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <i data-lucide="check-circle-2" class="w-5 h-5 text-accent mt-0.5"></i>
                                <div>
                                    <h3 class="font-medium text-dark text-base m-0">Technology</h3>
                                    <p class="text-sm text-muted">Utilizing state-of-the-art scanners and painless injection systems.</p>
                                </div>
                            </div>
                        </div>

                        <a href="#book" class="text-primary font-medium hover:text-dark transition-colors inline-flex items-center gap-2 group">
                            Meet Our Team <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Services Section -->
        <section id="services" class="py-24 bg-white" aria-labelledby="services-heading">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center max-w-2xl mx-auto mb-16 reveal-on-scroll">
                    <span class="text-primary font-medium tracking-wide text-sm uppercase mb-2 block">Our Expertise</span>
                    <h2 id="services-heading" class="font-heading font-semibold text-3xl lg:text-4xl text-dark mb-4 tracking-tight">Comprehensive Dental Solutions</h2>
                    <p class="text-muted">From routine checkups to complex cosmetic makeovers, we cover all your dental needs.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Service 1 -->
                    <div class="bg-surface rounded-2xl p-2 shadow-sm border border-border hover:shadow-lift hover:border-primary/20 transition-all duration-300 group reveal-on-scroll">
                        <div class="overflow-hidden rounded-xl h-48 mb-4 relative">
                            <div class="absolute inset-0 bg-dark/20 group-hover:bg-transparent transition-colors z-10"></div>
                            <img src="https://images.unsplash.com/photo-1598256989800-fe5f95da9787?auto=format&fit=crop&w=600&q=80" alt="General Dentistry" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" width="600" height="400" loading="lazy">
                        </div>
                        <div class="px-4 pb-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-heading font-semibold text-lg text-dark">General Dentistry</h3>
                                <i data-lucide="stethoscope" class="w-5 h-5 text-primary"></i>
                            </div>
                            <p class="text-sm text-muted mb-4">Routine exams, cleanings, and fillings to maintain optimal oral health.</p>
                            <a href="#book" class="text-xs font-medium text-primary uppercase tracking-wider hover:text-dark transition-colors">Book Now</a>
                        </div>
                    </div>

                    <!-- Service 2 -->
                    <div class="bg-surface rounded-2xl p-2 shadow-sm border border-border hover:shadow-lift hover:border-primary/20 transition-all duration-300 group reveal-on-scroll delay-100">
                        <div class="overflow-hidden rounded-xl h-48 mb-4 relative">
                            <div class="absolute inset-0 bg-dark/20 group-hover:bg-transparent transition-colors z-10"></div>
                            <img src="https://images.unsplash.com/photo-1616391182219-e080b4d1043a?auto=format&fit=crop&w=600&q=80" alt="Cosmetic Dentistry" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" width="600" height="400" loading="lazy">
                        </div>
                        <div class="px-4 pb-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-heading font-semibold text-lg text-dark">Cosmetic Dentistry</h3>
                                <i data-lucide="sparkle" class="w-5 h-5 text-primary"></i>
                            </div>
                            <p class="text-sm text-muted mb-4">Teeth whitening, veneers, and smile makeovers for a confident look.</p>
                            <a href="#book" class="text-xs font-medium text-primary uppercase tracking-wider hover:text-dark transition-colors">Book Now</a>
                        </div>
                    </div>

                    <!-- Service 3 -->
                    <div class="bg-surface rounded-2xl p-2 shadow-sm border border-border hover:shadow-lift hover:border-primary/20 transition-all duration-300 group reveal-on-scroll delay-200">
                        <div class="overflow-hidden rounded-xl h-48 mb-4 relative">
                            <div class="absolute inset-0 bg-dark/20 group-hover:bg-transparent transition-colors z-10"></div>
                            <img src="https://images.unsplash.com/photo-1471864190281-a93a3070b6de?auto=format&fit=crop&w=600&q=80" alt="Implants" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" width="600" height="400" loading="lazy">
                        </div>
                        <div class="px-4 pb-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-heading font-semibold text-lg text-dark">Dental Implants</h3>
                                <i data-lucide="anchor" class="w-5 h-5 text-primary"></i>
                            </div>
                            <p class="text-sm text-muted mb-4">Permanent, natural-looking solutions for missing teeth replacement.</p>
                            <a href="#book" class="text-xs font-medium text-primary uppercase tracking-wider hover:text-dark transition-colors">Book Now</a>
                        </div>
                    </div>

                    <!-- Service 4 -->
                    <div class="bg-surface rounded-2xl p-2 shadow-sm border border-border hover:shadow-lift hover:border-primary/20 transition-all duration-300 group reveal-on-scroll">
                        <div class="overflow-hidden rounded-xl h-48 mb-4 relative">
                            <div class="absolute inset-0 bg-dark/20 group-hover:bg-transparent transition-colors z-10"></div>
                            <img src="https://images.unsplash.com/photo-1598256989800-fe5f95da9787?auto=format&fit=crop&w=600&q=80" alt="Orthodontics" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" width="600" height="400" loading="lazy">
                        </div>
                        <div class="px-4 pb-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-heading font-semibold text-lg text-dark">Braces & Aligners</h3>
                                <i data-lucide="align-center" class="w-5 h-5 text-primary"></i>
                            </div>
                            <p class="text-sm text-muted mb-4">Invisible aligners and traditional braces for a perfectly straight smile.</p>
                            <a href="#book" class="text-xs font-medium text-primary uppercase tracking-wider hover:text-dark transition-colors">Book Now</a>
                        </div>
                    </div>

                    <!-- Service 5 -->
                    <div class="bg-surface rounded-2xl p-2 shadow-sm border border-border hover:shadow-lift hover:border-primary/20 transition-all duration-300 group reveal-on-scroll delay-100">
                        <div class="overflow-hidden rounded-xl h-48 mb-4 relative">
                            <div class="absolute inset-0 bg-dark/20 group-hover:bg-transparent transition-colors z-10"></div>
                            <img src="https://images.unsplash.com/photo-1579684385127-1ef15d508118?auto=format&fit=crop&w=600&q=80" alt="Root Canal" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" width="600" height="400" loading="lazy">
                        </div>
                        <div class="px-4 pb-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-heading font-semibold text-lg text-dark">Root Canal</h3>
                                <i data-lucide="activity" class="w-5 h-5 text-primary"></i>
                            </div>
                            <p class="text-sm text-muted mb-4">Pain-free therapy to save infected teeth and restore function.</p>
                            <a href="#book" class="text-xs font-medium text-primary uppercase tracking-wider hover:text-dark transition-colors">Book Now</a>
                        </div>
                    </div>

                    <!-- Service 6 -->
                    <div class="bg-surface rounded-2xl p-2 shadow-sm border border-border hover:shadow-lift hover:border-primary/20 transition-all duration-300 group reveal-on-scroll delay-200">
                        <div class="overflow-hidden rounded-xl h-48 mb-4 relative">
                            <div class="absolute inset-0 bg-dark/20 group-hover:bg-transparent transition-colors z-10"></div>
                            <img src="https://images.unsplash.com/photo-1606811971618-4486d14f3f99?auto=format&fit=crop&w=600&q=80" alt="Pediatric" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" width="600" height="400" loading="lazy">
                        </div>
                        <div class="px-4 pb-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-heading font-semibold text-lg text-dark">Pediatric Dentistry</h3>
                                <i data-lucide="baby" class="w-5 h-5 text-primary"></i>
                            </div>
                            <p class="text-sm text-muted mb-4">Gentle care for children ensuring a lifetime of healthy smiles.</p>
                            <a href="#book" class="text-xs font-medium text-primary uppercase tracking-wider hover:text-dark transition-colors">Book Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="py-16 bg-dark text-white relative overflow-hidden" aria-label="Clinic Statistics">
            <div class="absolute inset-0 bg-gradient-to-r from-primaryDark/50 to-transparent"></div>
            <div class="max-w-7xl mx-auto px-6 grid grid-cols-2 lg:grid-cols-4 gap-8 text-center relative z-10">
                <div class="reveal-on-scroll">
                    <span class="block text-4xl lg:text-5xl font-heading font-semibold text-accent mb-2 counter" data-target="5000">0</span>
                    <span class="text-sm text-white/70">Happy Patients</span>
                </div>
                <div class="reveal-on-scroll delay-100">
                    <span class="block text-4xl lg:text-5xl font-heading font-semibold text-accent mb-2 counter" data-target="15">0</span>
                    <span class="text-sm text-white/70">Experts</span>
                </div>
                <div class="reveal-on-scroll delay-200">
                    <span class="block text-4xl lg:text-5xl font-heading font-semibold text-accent mb-2 counter" data-target="12">0</span>
                    <span class="text-sm text-white/70">Awards Won</span>
                </div>
                <div class="reveal-on-scroll delay-300">
                    <span class="block text-4xl lg:text-5xl font-heading font-semibold text-accent mb-2 counter" data-target="100">0</span>
                    <span class="text-sm text-white/70">% Safe & Sterile</span>
                </div>
            </div>
        </section>

        <!-- Testimonials -->
        <section id="testimonials" class="py-24 bg-surfaceHighlight" aria-labelledby="testimonials-heading">
            <div class="max-w-7xl mx-auto px-6">
                <div class="flex items-center justify-between mb-12">
                    <div>
                        <h2 id="testimonials-heading" class="font-heading font-semibold text-3xl text-dark">Patient Stories</h2>
                        <div class="flex items-center gap-2 mt-2">
                            <div class="flex text-yellow-400" aria-label="5 out of 5 stars">
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                                <i data-lucide="star" class="w-4 h-4 fill-current"></i>
                            </div>
                            <span class="text-sm text-muted">4.9/5 from Google Reviews</span>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Review 1 -->
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-border hover:border-primary/30 transition-colors reveal-on-scroll">
                        <blockquote class="text-darkText italic mb-6">"I've always been afraid of dentists, but the team at Niva made me feel so calm. The pain-free injection system is a game changer!"</blockquote>
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 bg-surfaceHighlight rounded-full flex items-center justify-center text-primary font-bold" aria-hidden="true">JD</div>
                            <div>
                                <cite class="font-semibold text-sm text-dark not-italic">James Doe</cite>
                                <p class="text-xs text-muted">Root Canal Patient</p>
                            </div>
                            <i data-lucide="quote" class="w-8 h-8 text-border ml-auto opacity-50"></i>
                        </div>
                    </div>
                    <!-- Review 2 -->
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-border hover:border-primary/30 transition-colors reveal-on-scroll delay-100">
                        <blockquote class="text-darkText italic mb-6">"Incredibly modern clinic. Everything is spotless, and they explained every step of my implant procedure clearly."</blockquote>
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 bg-dark/5 rounded-full flex items-center justify-center text-dark font-bold" aria-hidden="true">AS</div>
                            <div>
                                <cite class="font-semibold text-sm text-dark not-italic">Anna Smith</cite>
                                <p class="text-xs text-muted">Implant Patient</p>
                            </div>
                            <i data-lucide="quote" class="w-8 h-8 text-border ml-auto opacity-50"></i>
                        </div>
                    </div>
                    <!-- Review 3 -->
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-border hover:border-primary/30 transition-colors reveal-on-scroll delay-200">
                        <blockquote class="text-darkText italic mb-6">"Brought my kids here for their first checkup. The pediatric specialist was amazing. They actually want to go back!"</blockquote>
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 bg-accent/10 rounded-full flex items-center justify-center text-accent font-bold" aria-hidden="true">MR</div>
                            <div>
                                <cite class="font-semibold text-sm text-dark not-italic">Michael Ross</cite>
                                <p class="text-xs text-muted">Family Care</p>
                            </div>
                            <i data-lucide="quote" class="w-8 h-8 text-border ml-auto opacity-50"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Appointment Form Section -->
        <section id="book" class="py-24 bg-white relative" aria-labelledby="book-heading">
            <div class="max-w-4xl mx-auto px-6 relative z-10">
                <div class="bg-surface rounded-3xl p-8 md:p-12 shadow-2xl shadow-primary/5 border border-border">
                    <div class="text-center mb-10">
                        <h2 id="book-heading" class="font-heading font-semibold text-3xl text-dark mb-2">Book Your Visit</h2>
                        <p class="text-muted">Fill out the form below and our coordinator will confirm your slot shortly.</p>
                    </div>

                    <form id="bookingForm" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Name -->
                            <div class="input-group">
                                <input type="text" id="name" name="name" class="input-field" placeholder=" " required autocomplete="name">
                                <label for="name" class="input-label">Full Name</label>
                            </div>
                            <!-- Phone -->
                            <div class="input-group">
                                <input type="tel" id="phone" name="phone" class="input-field" placeholder=" " required autocomplete="tel">
                                <label for="phone" class="input-label">Phone Number</label>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Email -->
                            <div class="input-group">
                                <input type="email" id="email" name="email" class="input-field" placeholder=" " required autocomplete="email">
                                <label for="email" class="input-label">Email Address</label>
                            </div>
                            
                            <!-- Custom Select Dropdown: Treatment -->
                            <div class="relative">
                                <label for="treatment-button" class="sr-only">Select Treatment</label>
                                <!-- Accessible Custom Select Implementation -->
                                <div class="custom-select-wrapper" id="treatment-wrapper">
                                    <button type="button" id="treatment-button" class="custom-select-trigger text-sm text-darkText w-full text-left" aria-haspopup="listbox" aria-expanded="false" aria-controls="treatment-list">
                                        <span id="selected-treatment">Select Treatment</span>
                                        <i data-lucide="chevron-down" class="w-4 h-4 text-primary"></i>
                                    </button>
                                    <ul id="treatment-list" class="custom-select-options text-sm list-none p-0 m-0" role="listbox" aria-labelledby="treatment-button">
                                        <li class="custom-option" role="option" tabindex="0" data-value="General Checkup">General Checkup</li>
                                        <li class="custom-option" role="option" tabindex="0" data-value="Teeth Whitening">Teeth Whitening</li>
                                        <li class="custom-option" role="option" tabindex="0" data-value="Dental Implant">Dental Implant</li>
                                        <li class="custom-option" role="option" tabindex="0" data-value="Braces/Invisalign">Braces/Invisalign</li>
                                        <li class="custom-option" role="option" tabindex="0" data-value="Emergency Pain">Emergency Pain</li>
                                    </ul>
                                    <input type="hidden" name="treatment" id="treatmentInput">
                                </div>
                            </div>
                        </div>

                        <!-- Date & Time Row -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="input-group">
                                <input type="date" id="date" name="date" class="input-field text-darkText" required>
                                <label for="date" class="input-label bg-surface px-1 -top-2.5 text-xs text-primary font-medium">Preferred Date</label>
                            </div>
                            
                            <!-- Custom Select Dropdown: Time -->
                            <div class="relative">
                                <label for="time-button" class="sr-only">Preferred Time</label>
                                <div class="custom-select-wrapper" id="time-wrapper">
                                     <button type="button" id="time-button" class="custom-select-trigger text-sm text-darkText w-full text-left" aria-haspopup="listbox" aria-expanded="false" aria-controls="time-list">
                                        <span id="selected-time">Preferred Time</span>
                                        <i data-lucide="clock" class="w-4 h-4 text-primary"></i>
                                    </button>
                                     <ul id="time-list" class="custom-select-options text-sm list-none p-0 m-0" role="listbox" aria-labelledby="time-button">
                                        <li class="custom-option" role="option" tabindex="0" data-value="Morning (9AM - 12PM)">Morning (9AM - 12PM)</li>
                                        <li class="custom-option" role="option" tabindex="0" data-value="Afternoon (12PM - 4PM)">Afternoon (12PM - 4PM)</li>
                                        <li class="custom-option" role="option" tabindex="0" data-value="Evening (4PM - 8PM)">Evening (4PM - 8PM)</li>
                                    </ul>
                                    <input type="hidden" name="time" id="timeInput">
                                </div>
                            </div>
                        </div>

                        <!-- Message -->
                        <div class="input-group">
                            <textarea id="message" name="message" rows="3" class="input-field" placeholder=" "></textarea>
                            <label for="message" class="input-label">Describe your concern (Optional)</label>
                        </div>

                        <button type="submit" class="w-full bg-primary text-white font-medium py-4 rounded-lg shadow-lg shadow-primary/25 hover:bg-primaryDark hover:scale-[1.01] transition-all duration-300 flex items-center justify-center gap-2">
                            Confirm Appointment
                        </button>
                    </form>

                    <!-- Success Message (Hidden by default) -->
                    <div id="successMessage" class="hidden text-center py-12" aria-live="polite">
                        <div class="w-16 h-16 bg-surfaceHighlight rounded-full flex items-center justify-center mx-auto mb-4 text-primary">
                            <i data-lucide="check" class="w-8 h-8"></i>
                        </div>
                        <h3 class="text-2xl font-heading font-semibold text-dark mb-2">Thank you!</h3>
                        <p class="text-muted">Our clinic coordinator will contact you shortly to confirm your appointment.</p>
                        <button id="resetBtn" class="mt-6 text-primary font-medium hover:underline">Book another</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 5. Contact & Footer -->
    <footer class="bg-dark pt-20 pb-10 text-white/80 border-t border-white/10" aria-label="Footer">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16">
                
                <!-- Brand -->
                <div>
                    <div class="flex items-center gap-2 mb-6">
                        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white" aria-hidden="true">
                            <i data-lucide="smile" class="w-5 h-5"></i>
                        </div>
                        <span class="font-heading font-semibold text-xl tracking-tight text-white">NIVA</span>
                    </div>
                    <p class="text-sm leading-relaxed text-white/60 mb-6">
                        Providing premium dental care with a focus on hygiene, technology, and patient comfort since 2012.
                    </p>
                    <div class="flex gap-4">
                        <a href="#" aria-label="Facebook" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors"><i data-lucide="facebook" class="w-4 h-4"></i></a>
                        <a href="#" aria-label="Instagram" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors"><i data-lucide="instagram" class="w-4 h-4"></i></a>
                        <a href="#" aria-label="Twitter" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors"><i data-lucide="twitter" class="w-4 h-4"></i></a>
                    </div>
                </div>

                <!-- Contact Info -->
                <div>
                    <h4 class="text-white font-heading font-semibold mb-6">Contact Us</h4>
                    <ul class="space-y-4 text-sm">
                        <li class="flex items-start gap-3">
                            <i data-lucide="map-pin" class="w-5 h-5 text-accent mt-0.5"></i>
                            <span>123 Medical Park Drive,<br>Suite 400, Wellness City</span>
                        </li>
                        <li class="flex items-center gap-3 group cursor-pointer">
                            <i data-lucide="phone" class="w-5 h-5 text-accent group-hover:scale-110 transition-transform"></i>
                            <a href="tel:+15551234567" class="hover:text-accent transition-colors">+1 (555) 123-4567</a>
                        </li>
                        <li class="flex items-center gap-3">
                            <i data-lucide="mail" class="w-5 h-5 text-accent"></i>
                            <a href="mailto:care@nivadental.com" class="hover:text-accent transition-colors">care@nivadental.com</a>
                        </li>
                    </ul>
                </div>

                <!-- Timings -->
                <div>
                    <h4 class="text-white font-heading font-semibold mb-6">Opening Hours</h4>
                    <ul class="space-y-2 text-sm">
                        <li class="flex justify-between border-b border-white/10 pb-2">
                            <span>Mon - Fri</span>
                            <span class="text-white">9:00 AM - 8:00 PM</span>
                        </li>
                        <li class="flex justify-between border-b border-white/10 pb-2">
                            <span>Saturday</span>
                            <span class="text-white">10:00 AM - 6:00 PM</span>
                        </li>
                        <li class="flex justify-between pt-2">
                            <span>Sunday</span>
                            <span class="text-accent">Closed</span>
                        </li>
                    </ul>
                </div>

                <!-- Map -->
                <div class="rounded-xl overflow-hidden h-48 bg-gray-800 relative group">
                    <img src="https://images.unsplash.com/photo-1524661135-423995f22d0b?auto=format&fit=crop&w=600&q=80" alt="Map Location" class="w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity" width="600" height="200" loading="lazy">
                    <a href="#" class="absolute inset-0 flex items-center justify-center bg-dark/20 group-hover:bg-dark/40 transition-colors">
                        <span class="bg-white text-dark px-4 py-2 rounded-lg text-xs font-bold shadow-lg flex items-center gap-2">
                            <i data-lucide="navigation" class="w-3 h-3"></i> Get Directions
                        </span>
                    </a>
                </div>
            </div>

            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-white/40">
                <p>&copy; 2023 Niva Dental Clinic. All rights reserved.</p>
                <div class="flex gap-6 mt-4 md:mt-0">
                    <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
                    <a href="#" class="hover:text-white transition-colors">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Defer App Logic -->
    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Icons
            if (window.lucide) {
                lucide.createIcons();
            }

            // --- Scroll Reveal Animation ---
            const observerOptions = {
                threshold: 0.15,
                rootMargin: "0px 0px -50px 0px"
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        
                        // Trigger Counter Animation
                        const counters = entry.target.querySelectorAll('.counter');
                        if(counters.length > 0) {
                            counters.forEach(counter => {
                                const target = +counter.getAttribute('data-target');
                                const duration = 2000;
                                const increment = target / (duration / 16);
                                
                                let current = 0;
                                const updateCounter = () => {
                                    current += increment;
                                    if(current < target) {
                                        counter.innerText = Math.ceil(current) + (target > 100 ? '+' : '');
                                        requestAnimationFrame(updateCounter);
                                    } else {
                                        counter.innerText = target + (target > 100 ? '+' : '');
                                    }
                                };
                                updateCounter();
                            });
                            observer.unobserve(entry.target);
                        }
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));

            // --- Navbar Scroll Effect ---
            const nav = document.getElementById('navbar');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    nav.classList.add('shadow-sm', 'bg-white/95');
                    nav.classList.remove('bg-white/80');
                } else {
                    nav.classList.remove('shadow-sm', 'bg-white/95');
                    nav.classList.add('bg-white/80');
                }
            });

            // --- Mobile Menu Toggle ---
            const mobileBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            
            mobileBtn.addEventListener('click', () => {
                const isHidden = mobileMenu.classList.contains('hidden');
                mobileMenu.classList.toggle('hidden');
                mobileBtn.setAttribute('aria-expanded', !isHidden);
            });

            // --- Accessible Custom Select Logic ---
            function setupCustomSelect(wrapperId, inputId, displayId) {
                const wrapper = document.getElementById(wrapperId);
                const button = wrapper.querySelector('.custom-select-trigger');
                const list = wrapper.querySelector('.custom-select-options');
                const options = wrapper.querySelectorAll('.custom-option');
                const input = document.getElementById(inputId);
                const display = document.getElementById(displayId);

                function closeDropdown() {
                    wrapper.classList.remove('open');
                    button.setAttribute('aria-expanded', 'false');
                }

                function openDropdown() {
                    wrapper.classList.add('open');
                    button.setAttribute('aria-expanded', 'true');
                    // Focus first option
                    if (options.length > 0) options[0].focus();
                }

                function toggleDropdown() {
                    if (wrapper.classList.contains('open')) {
                        closeDropdown();
                    } else {
                        openDropdown();
                    }
                }

                function selectOption(option) {
                    const value = option.getAttribute('data-value');
                    display.innerText = value;
                    display.classList.add('text-dark');
                    input.value = value;
                    closeDropdown();
                    button.focus(); // Return focus to trigger
                }

                // Button interaction
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    toggleDropdown();
                });

                // Option interaction
                options.forEach(option => {
                    option.addEventListener('click', () => selectOption(option));
                    option.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            selectOption(option);
                        }
                    });
                });

                // Close on outside click
                document.addEventListener('click', (e) => {
                    if (!wrapper.contains(e.target)) {
                        closeDropdown();
                    }
                });

                // Keyboard navigation for menu
                wrapper.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        closeDropdown();
                        button.focus();
                    }
                });
            }

            setupCustomSelect('treatment-wrapper', 'treatmentInput', 'selected-treatment');
            setupCustomSelect('time-wrapper', 'timeInput', 'selected-time');


            // --- Form Handling ---
            const form = document.getElementById('bookingForm');
            const successMsg = document.getElementById('successMessage');
            const resetBtn = document.getElementById('resetBtn');

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const btn = form.querySelector('button[type="submit"]');
                const originalText = btn.innerHTML;
                
                // Set loading state
                btn.disabled = true;
                btn.innerHTML = '<i data-lucide="loader-2" class="w-5 h-5 animate-spin"></i> Processing...';
                if (window.lucide) lucide.createIcons();

                // Simulate API call
                setTimeout(() => {
                    form.classList.add('hidden');
                    successMsg.classList.remove('hidden');
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                }, 1500);
            });

            resetBtn.addEventListener('click', () => {
                form.reset();
                form.classList.remove('hidden');
                successMsg.classList.add('hidden');
                document.getElementById('selected-treatment').innerText = 'Select Treatment';
                document.getElementById('selected-time').innerText = 'Preferred Time';
            });
        });
    </script>
</body>
</html>
